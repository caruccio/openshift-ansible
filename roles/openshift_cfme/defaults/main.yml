---
# Namespace for the CFME project
openshift_cfme_project: openshift-cfme
# Namespace/project description
openshift_cfme_project_description: ManageIQ - CloudForms Management Engine 4.6
######################################################################
# ACCOUNTING - [CONSTANTS]
######################################################################
# Service Account SSCs
openshift_system_account_sccs:
  - name: miq-anyuid
    resource_name: anyuid
  - name: miq-orchestrator
    resource_name: anyuid
  - name: miq-privileged
    resource_name: privileged
  - name: miq-sysadmin
    resource_name: miq-sysadmin

# Service Account Roles
openshift_cfme_system_account_roles:
  - name: miq-orchestrator
    resource_name: view
  - name: miq-orchestrator
    resource_name: edit

######################################################################
# DATABASE OPTIONS
######################################################################
# openshift_cfme_db_type - ENUM - One of 'podified' or 'external'
#
# * podified - PostgreSQL db runs in local pod, PV required
openshift_cfme_db_type: podified
# * external - PostgreSQL db is already running on another server
#
# You must add the required database parameters to the
# openshift_cfme_template_parameters variable. For example:
#
# openshift_cfme_template_parameters:
#   DATABASE_USER: root
#   DATABASE_PASSWORD: @_grrrr8Pa$$.h3r3
#   DATABASE_IP: 10.1.1.10
#   DATABASE_POST: 5432
#   DATABASE_NAME: vmdb_production


# [REQUIRED] - openshift_cfme_storage_class
# Allowed options: nfs, external, preconfigured, cloudprovider.

# * nfs - Best used for proof-of-concept installs. Will setup NFS on a
#   cluster host (defaults to your first master in the inventory file)
#   to back the required PVCs. The application requires a PVC and the
#   database (which may be hosted externally) may required a
#   second. PVC minimum required sizes are: 5GiB for the MIQ
#   application, and 15GiB for the PostgreSQL database (20GiB minimum
#   available space on an volume/partition if used specifically for
#   NFS purposes)
openshift_cfme_storage_class: nfs

######################################################################
# STORAGE - [OPTIONAL] - EXTERNAL NFS
######################################################################
# OPTIONAL - If you are using an external NFS server, such as a netapp
# appliance, then you must set the hostname here.
openshift_cfme_storage_external_nfs_hostname: false
# OPTIONAL - If you are using external NFS then you must set the base
# path to the exports location here.
openshift_cfme_storage_external_nfs_base_dir: /exports/


# Name of the application templates with object/parameter definitions
openshift_cfme_app_templates:
  - miq-template-ext-db.yaml
  - miq-template.yaml

# A hash of parameters you want to override or set in the
# miq-template.yaml or miq-template-ext-db.yaml templates
openshift_cfme_template_parameters: {}



# # All the required exports
# openshift_cfme_pv_exports:
#   - miq-pv01
#   - miq-pv02
#   - miq-pv03
# # PV template files and their created object names
# openshift_cfme_pv_data:
#   - pv_name: miq-pv01
#     pv_template: miq-pv-db.yaml
#     pv_label: CFME DB PV
#   - pv_name: miq-pv02
#     pv_template: miq-pv-region.yaml
#     pv_label: CFME Region PV
#   - pv_name: miq-pv03
#     pv_template: miq-pv-server.yaml
#     pv_label: CFME Server PV

# TODO: Refactor '_install_app' variable. This is just for testing but
# maybe in the future it should control the entire yes/no for CFME.
#
# Whether or not the manageiq app should be initialized ('oc new-app
# --template=manageiq). If False everything UP TO 'new-app' is ran.
openshift_cfme_install_app: False
# Docker image to pull
openshift_cfme_application_img_name: "{{ 'registry.access.redhat.com/cloudforms45/cfme-openshift-app' if openshift_deployment_type == 'openshift-enterprise' else 'docker.io/manageiq/manageiq-pods' }}"
openshift_cfme_postgresql_img_name: "{{ 'registry.access.redhat.com/cloudforms45/cfme-openshift-postgresql' if openshift_deployment_type == 'openshift-enterprise' else 'docker.io/manageiq/manageiq-pods' }}"
openshift_cfme_memcached_img_name: "{{ 'registry.access.redhat.com/cloudforms45/cfme-openshift-memcached' if openshift_deployment_type == 'openshift-enterprise' else 'docker.io/manageiq/manageiq-pods' }}"
openshift_cfme_application_img_tag: "{{ 'latest' if openshift_deployment_type == 'openshift-enterprise' else 'app-latest-fine' }}"
openshift_cfme_memcached_img_tag: "{{ 'latest' if openshift_deployment_type == 'openshift-enterprise' else 'memcached-latest-fine' }}"
openshift_cfme_postgresql_img_tag: "{{ 'latest' if openshift_deployment_type == 'openshift-enterprise' else 'postgresql-latest-fine' }}"
